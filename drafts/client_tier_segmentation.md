# Data Contract: Сегментирование клиентов по тирам

## Статус
Черновик

## Определение
Автоматическое определение принадлежности клиента к одному из трёх тиров (Tier 1, Tier 2, Tier 3) на основе выручки компании с fallback на отраслевую принадлежность.

## Формула
```
IF выручка >= 10 млрд руб → Tier 1
ELSE IF выручка >= 1 млрд руб → Tier 2  
ELSE IF выручка < 1 млрд руб → Tier 3
ELSE IF выручка = 0 OR выручка = NULL:
  IF основной_ОКВЭД IN ['64.19', '64.92', '64.92.1', '64.11', '65.11', '65.12', '65.12.2', '65.12.1'] → Tier 1
  ELSE → Tier 3
```

## Источник данных
- Выручка: [требует уточнения]
- ОКВЭД: [требует уточнения]

## Включает
- Все клиенты компании
- Проверка по годовой выручке (приоритет)
- Fallback по основному ОКВЭД для банков/страховых

## Исключения
[требует уточнения]

## Гранулярность
[требует уточнения]

## Ответственный за данные
[требует уточнения]

## Ответственный за расчёт
Павел Петрин (дата-инженер)

## Связь с Extra Time
Корректная сегментация → подходящая стратегия продаж → более эффективные продажи → больше пользователей → выше Extra Time

## Потребители
- Sales команда (распределение между кругами)
- [другие требуют уточнения]

## Состояние данных
- Данные есть, но качество под вопросом: текущая логика API
- Данных нет: [требует уточнения по источникам выручки]

## Известные проблемы
- Текущий API приоритизирует любой ОКВЭД над выручкой
- Компании с банковскими ОКВЭД но малой выручкой попадают в Tier 1 вместо Tier 3

## Согласовано
[в процессе]

## История изменений
2026-02-20 — создан черновик (Павел Петрин)