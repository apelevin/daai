# AI-архитектор метрик: концепция проекта

## Проблема

В компании нет единого языка данных. Одна и та же метрика считается по-разному в разных местах: WIN NI на борде CEO — 27,5 млн, в выгрузке DDP — 31 млн, валидированных в CRM — 17,3 млн. Три цифры, три источника, ни одного согласованного определения.

Это не техническая проблема. Это проблема договорённостей. Инженеры данных не могут построить единый источник правды, потому что никто не зафиксировал, что именно считать. Руководители кругов используют метрики, формулы которых никогда не были явно согласованы. Каждый считает по-своему — и каждый уверен, что его цифра правильная.

Результат: невозможно оценить реальное состояние бизнеса, невозможно связать метрики кругов со стратегией компании, невозможно понять, работают ли принятые решения.

## Решение

AI-агент в корпоративном мессенджере, который берёт на себя роль архитектора метрик: выявляет расхождения в определениях, инициирует обсуждения между stakeholder'ами, помогает договориться и фиксирует согласованные Data Contracts.

**Data Contract** — это не технический документ. Это одностраничное соглашение между людьми: что означает метрика, как она считается, что входит и что не входит в расчёт, кто отвечает за данные. После согласования — это единственный источник правды. Расхождения между бордами, выгрузками и отчётами становятся невозможными, потому что все смотрят на одну и ту же формулу.

## Как это работает

Агент живёт в канале Mattermost — `Data Contracts`. Там же, где работают люди. Не в отдельной системе, не в дашборде — в мессенджере, куда все и так заходят каждый день.

### Агент инициирует обсуждение

Агент берёт следующую метрику из очереди и создаёт тред в канале. Описывает проблему, тегает stakeholder'ов, задаёт структурированные вопросы: как вы определяете эту метрику? Откуда берёте данные? Кто отвечает за корректность?

### Люди отвечают когда удобно

Обсуждение асинхронное. Не нужно собирать встречу на час. Руководитель sales отвечает утром. Руководитель DD — вечером. Агент собирает ответы, сравнивает, подсвечивает противоречия.

### Агент помогает договориться

Если ответы расходятся — агент показывает обоим: вот что говорит один, вот что говорит другой, вот конкретные варианты решения. Предлагает выбрать. Если тупик — применяет процедуру консента: формулирует предложение, обосновывает через стратегию компании, спрашивает: «Есть ли аргументированное возражение, что это нанесёт ущерб?» Нет возражений — фиксируем.

### Агент не забывает и не сдаётся

Если stakeholder не отвечает — агент напоминает. Сначала мягко в треде, потом упрощает задачу до выбора из двух вариантов, потом пишет в личку, в крайнем случае — эскалирует. Каждое напоминание снижает барьер ответа. Контракт будет согласован.

### Результат фиксируется

Согласованный контракт сохраняется, публикуется в канале, становится доступным любому сотруднику. Спросил агента в личке «как мы считаем WIN NI?» — получил точный ответ с формулой и датой согласования.

## Стратегический контекст

Все решения агента привязаны к ключевой стратегической метрике компании — **Extra Time**: сколько времени юрист экономит благодаря продуктам ПравоТех.

Когда stakeholder'ы спорят, какой вариант метрики выбрать, агент проверяет: какой из вариантов ближе к Extra Time? Какой лучше отражает ценность, которую компания создаёт для клиента? Это не абстрактный критерий — это конкретный фильтр для принятия решений, встроенный в логику агента.

## Что агент знает

Агент знает контекст компании: продукты, круги, домены, ответственных, стратегию. Знает дерево метрик от Extra Time вниз. Знает каждого участника канала: его роль, компетенции, стиль коммуникации, позиции по предыдущим контрактам. Использует это, чтобы задавать правильные вопросы правильным людям в правильной форме.

Агент не знает данных из базы (на этапе MVP). Он не проверяет цифры — он помогает людям договориться, что эти цифры означают. Интеграция с базой данных — следующий шаг, после того как фундамент определений создан.

## Чего агент не делает

- Не принимает решений за людей. Только предлагает варианты и фиксирует выбор.
- Не выдумывает данные. Если не знает — честно говорит.
- Не заменяет инженера данных. Инженер строит хранилище и витрины. Агент формирует требования: что считать и по какой формуле.
- Не показывает одним участникам оценки и паттерны других. Профили конфиденциальны.

## Результат

Через месяц работы агента компания получает 5–10 согласованных Data Contracts на ключевые метрики. Впервые будет записано и подтверждено конкретными людьми, что означает каждая цифра. Не в чьей-то голове, не в чьём-то Excel'е, а в конкретных документах с формулами, ответственными и датами согласования.

Это фундамент для всего остального: единых витрин данных, AI-агентов, которые отвечают на вопросы о бизнесе, сквозного дерева метрик, квартального аудита. Без согласованных определений ничего из этого построить невозможно.

## Почему AI, а не человек

Классический подход: нанять аналитика или архитектора данных, который будет ходить по совещаниям, собирать требования, согласовывать формулы. Это работает, но медленно и дорого. Один человек может вести 2–3 согласования параллельно. Устаёт, забывает напоминать, не всегда помнит контекст предыдущих обсуждений.

AI-агент ведёт 5–10 согласований параллельно. Никогда не забывает напомнить. Помнит каждое слово каждого stakeholder'а. Знает контекст всех предыдущих контрактов. Работает асинхронно — не нужно согласовывать время встречи. Стоит $3–15 в месяц вместо зарплаты специалиста.

При этом все решения принимают люди. Агент — фасилитатор, не начальник.

## Почему сначала контракты, а не технология

Можно начать с другого конца: подключить все базы данных, построить витрины, запустить BI. Многие так делают. И проваливаются — потому что строят отчёты по метрикам, которые никто не согласовывал. Получается красивый дашборд с неправильными цифрами.

Data Contracts — это фундамент. Когда все согласовали, что WIN NI считается только по подписанным контрактам текущего квартала, валидированным в CRM — тогда инженер может построить витрину с правильной формулой. Не раньше.

## Команда

**AI-агент** — формирует контракты, ведёт переписку, фиксирует результаты.

**Data Engineer (1 человек)** — строит хранилище, витрины, реализует согласованные формулы в коде. Работает по контрактам, которые сформировал агент.

**Контролёр (несколько часов в неделю)** — настраивает агента, обновляет контекст, разруливает эскалации. Это может быть CEO, руководитель круга A&D, или любой человек с пониманием бизнеса и стратегии.

## Технология

Агент работает в Mattermost через WebSocket API. Для генерации ответов использует языковые модели через OpenRouter: дешёвые модели для простых операций (роутинг, статусы), мощные — для аналитики и генерации контрактов. Стандартные напоминания генерируются по шаблонам без вызова модели вообще.

Все данные — файлы на диске: контракты в markdown, профили участников, журнал решений, очередь задач. Версионируются в Git. Агент крутится в Docker-контейнере на сервере компании.

Без внешних зависимостей кроме API языковых моделей. Без фронтенда. Без базы данных на этом этапе. Минимальная архитектура, которую можно собрать за неделю и которая начинает приносить пользу с первого согласованного контракта.

## Эволюция

**Сейчас (MVP):** Агент формирует Data Contracts через переписку. Результат — набор согласованных markdown-файлов.

**Следующий шаг:** Подключение к PostgreSQL. Агент проверяет данные в базе, показывает реальные цифры в обсуждениях, мониторит соблюдение контрактов.

**Дальше:** Построение дерева метрик от Extra Time. Квартальный аудит — автоматическая проверка связи метрик кругов со стратегией. Генерация гипотез, влияющих на выручку.

**Долгосрочно:** Круг Analytics & Data превращается из реактивного отчётного подразделения в стратегический центр, который систематически находит ограничения в данных и формулирует гипотезы роста. AI-агент — ядро этого центра.

Каждый шаг строится на предыдущем. Без контрактов невозможны витрины. Без витрин невозможен аудит. Без аудита невозможны гипотезы. Контракты — фундамент всего.
